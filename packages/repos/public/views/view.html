<section data-ng-controller="ReposController" data-ng-init="findOne()">
  <span>{{repo.created | date:'medium'}}</span> /
  <span>{{repo.user.name}}</span>
  <h2>{{repo.name}}</h2>
  <div data-ng-if="hasAuthorization(repo)">
    <a class="btn" href="/#!/repos/{{repo._id}}/edit">
      <i class="glyphicon glyphicon-edit"></i>
    </a>
    <a class="btn" data-ng-click="remove(repo);">
      <i class="glyphicon glyphicon-trash"></i>
    </a>
  </div>
  <div>{{repo.description}}</div>
  <a mean-token="item.link" ui-sref="create fig({repoId: repo._id})" class="ng-binding" href="#!/figs//create">Create New Fig</a>
<section data-ng-controller="FigsController" data-ng-init="find()">
  <ul class="figs unstyled">
    <li data-ng-repeat="fig in figs">
      <span>{{fig.created | date:'medium'}}</span> /
      <span>{{fig.user.name}}</span>
      <h2>
        <a data-ng-href="#!/figs/{{fig._id}}">{{fig.version}}</a>
        <span data-ng-if="hasAuthorization(fig)">
          <a class="btn" href="/#!/figs/{{fig._id}}/edit">
            <i class="glyphicon glyphicon-edit"></i>
          </a>
          <a class="btn" data-ng-click="remove(fig);">
            <i class="glyphicon glyphicon-trash"></i>
          </a>
        </span>
      </h2>
      <div>{{fig.content}}</div>
    </li>
  </ul>
  <h1 data-ng-hide="!figs || figs.length">No figs yet. <br> Why don't you <a ui-sref="create fig({repoId: repo._id})">Create One</a>?</h1>
</section>
</section>
